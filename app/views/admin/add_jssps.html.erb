<script>
var jssps = [{'number_machines': 3, 'time_limit': 150, 'machines': '012', 'JSSP': [[[30, 0], [30, 1], [30, 2]], [[30, 0], [30, 1], [30, 2]], [[30, 0], [30, 1], [30, 2]]], 'level': 1, 'answer': [[0, 0, 0, 0, 0], [1, 0, 1, 1, 0], [2, 0, 2, 2, 0], [3, 1, 0, 0, 0], [4, 1, 1, 1, 0], [5, 1, 2, 2, 0], [6, 2, 0, 0, 0], [7, 2, 1, 1, 0], [8, 2, 2, 2, 0]]}, {'number_machines': 3, 'time_limit': 269, 'machines': '012', 'JSSP': [[[45, 1], [39, 2], [33, 0]], [[97, 1], [63, 0], [49, 2]], [[44, 2], [46, 1], [61, 0]]], 'level': 1, 'answer': [[0, 0, 0, 1, 0], [1, 2, 0, 2, 0], [2, 1, 0, 1, 0], [3, 0, 1, 2, 0], [4, 0, 2, 0, 0], [5, 2, 1, 1, 0], [6, 1, 1, 0, 0], [7, 1, 2, 2, 0], [8, 2, 2, 0, 0]]}, {'number_machines': 3, 'time_limit': 361, 'machines': '012', 'JSSP': [[[60, 0], [48, 2], [36, 1]], [[95, 0], [97, 2], [68, 1]], [[59, 2], [62, 0], [92, 1]]], 'level': 1, 'answer': [[0, 1, 0, 0, 0], [1, 2, 0, 2, 0], [2, 2, 1, 0, 0], [3, 2, 2, 1, 0], [4, 1, 1, 2, 0], [5, 0, 0, 0, 0], [6, 1, 2, 1, 0], [7, 0, 1, 2, 0], [8, 0, 2, 1, 0]]}, {'number_machines': 3, 'time_limit': 357, 'machines': '012', 'JSSP': [[[75, 1], [57, 0], [40, 2]], [[93, 2], [60, 1], [87, 0]], [[74, 1], [78, 2], [53, 0]]], 'level': 1, 'answer': [[0, 2, 0, 1, 0], [1, 1, 0, 2, 0], [2, 0, 0, 1, 0], [3, 2, 1, 2, 0], [4, 0, 1, 0, 0], [5, 1, 1, 1, 0], [6, 0, 2, 2, 0], [7, 2, 2, 0, 0], [8, 1, 2, 0, 0]]}, {'number_machines': 4, 'time_limit': 395, 'machines': '0123', 'JSSP': [[[72, 2], [46, 1], [90, 0], [96, 3]], [[50, 0], [95, 3], [87, 2], [97, 1]], [[77, 3], [84, 1], [58, 2], [31, 0]], [[31, 0], [95, 1], [75, 2], [94, 3]]], 'level': 2, 'answer': [[0, 3, 0, 0, 0], [1, 3, 1, 1, 0], [2, 0, 0, 2, 0], [3, 2, 0, 3, 0], [4, 1, 0, 0, 0], [5, 0, 1, 1, 0], [6, 3, 2, 2, 0], [7, 1, 1, 3, 0], [8, 0, 2, 0, 0], [9, 2, 1, 1, 0], [10, 1, 2, 2, 0], [11, 3, 3, 3, 0], [12, 1, 3, 1, 0], [13, 2, 2, 2, 0], [14, 0, 3, 3, 0], [15, 2, 3, 0, 0]]}, {'number_machines': 4, 'time_limit': 421, 'machines': '0123', 'JSSP': [[[45, 0], [62, 1], [80, 3], [92, 2]], [[71, 1], [90, 3], [75, 2], [95, 0]], [[55, 2], [68, 1], [87, 3], [33, 0]], [[32, 0], [91, 2], [51, 3], [88, 1]]], 'level': 2, 'answer': [[0, 0, 0, 0, 0], [1, 1, 0, 1, 0], [2, 2, 0, 2, 0], [3, 1, 1, 3, 0], [4, 3, 0, 0, 0], [5, 0, 1, 1, 0], [6, 3, 1, 2, 0], [7, 0, 2, 3, 0], [8, 2, 1, 1, 0], [9, 1, 2, 2, 0], [10, 3, 2, 3, 0], [11, 1, 3, 0, 0], [12, 3, 3, 1, 0], [13, 0, 3, 2, 0], [14, 2, 2, 3, 0], [15, 2, 3, 0, 0]]}, {'number_machines': 4, 'time_limit': 507, 'machines': '0123', 'JSSP': [[[87, 2], [78, 0], [71, 1], [88, 3]], [[92, 2], [85, 3], [63, 0], [93, 1]], [[32, 1], [52, 2], [46, 0], [35, 3]], [[33, 0], [87, 2], [96, 3], [82, 1]]], 'level': 2, 'answer': [[0, 3, 0, 0, 0], [1, 2, 0, 1, 0], [2, 1, 0, 2, 0], [3, 1, 1, 3, 0], [4, 1, 2, 0, 0], [5, 1, 3, 1, 0], [6, 0, 0, 2, 0], [7, 0, 1, 0, 0], [8, 0, 2, 1, 0], [9, 3, 1, 2, 0], [10, 3, 2, 3, 0], [11, 3, 3, 1, 0], [12, 2, 1, 2, 0], [13, 2, 2, 0, 0], [14, 2, 3, 3, 0], [15, 0, 3, 3, 0]]}, {'number_machines': 4, 'time_limit': 419, 'machines': '0123', 'JSSP': [[[60, 0], [95, 2], [61, 1], [84, 3]], [[42, 3], [80, 2], [50, 1], [91, 0]], [[80, 0], [37, 2], [75, 3], [37, 1]], [[34, 1], [83, 3], [72, 2], [76, 0]]], 'level': 2, 'answer': [[0, 2, 0, 0, 0], [1, 3, 0, 1, 0], [2, 1, 0, 3, 0], [3, 0, 0, 0, 0], [4, 1, 1, 2, 0], [5, 3, 1, 3, 0], [6, 1, 2, 1, 0], [7, 2, 1, 2, 0], [8, 2, 2, 3, 0], [9, 1, 3, 0, 0], [10, 0, 1, 2, 0], [11, 0, 2, 1, 0], [12, 3, 2, 2, 0], [13, 0, 3, 3, 0], [14, 3, 3, 0, 0], [15, 2, 3, 1, 0]]}]
var j
for(j=0; j<jssps.length; j++){
  var button = document.createElement("button")
  button.setAttribute("type","button")
  button.setAttribute("onclick","sendActivitiesFrom("+j+")")
  button.innerHTML = j
  document.body.append(button)
}

function getErrorMsg(jqXHR, exception) {
var msg = '';
if (jqXHR.status === 0) {
    msg = 'Not connect.\n Verify Network.';
} else if (jqXHR.status == 404) {
    msg = 'Requested page not found. [404]';
} else if (jqXHR.status == 500) {
    msg = 'Internal Server Error [500].';
} else if (exception === 'parsererror') {
    msg = 'Requested JSON parse failed.';
} else if (exception === 'timeout') {
    msg = 'Time out error.';
} else if (exception === 'abort') {
    msg = 'Ajax request aborted.';
} else {
    msg = 'Uncaught Error.\n' + jqXHR.responseText;
}
return msg
}


function sendActivitiesFrom(c){
  if(c<jssps.length){
    var data = jssps[c]
    data.authenticity_token= window._token

    $.ajax({
      url: "/upload_JSSP",
      data: data,
      type: "POST",
      success: function(response){
        console.log("added", c)
        console.log(response)
        sendActivitiesFrom(c+1)
      },
      error: function(jqXHR, exception){
        msg = getErrorMsg(jqXHR, exception)
        var response = {message: msg}
        console.log(response)
        console.log("could not add ", c)
      }
    })
  }
}
</script>
